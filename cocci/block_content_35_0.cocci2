@@
identifier I0;
expression E1, E2, E3;
@@
- struct resource *I0; 
  ...
- I0 = platform_get_resource(E1, IORESOURCE_MEM, E2); 
- E3 = devm_ioremap_resource(&E1->dev, I0); 
+ E3 = devm_platform_ioremap_resource(E1, E2); 
// Infered from: (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#ath79_wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#ath79_wdt.c}: ath79_wdt_probe), (linux/{prevFiles/prev_09ef18_89576be_drivers#rtc#rtc-ds1511.c,revFiles/09ef18_89576be_drivers#rtc#rtc-ds1511.c}: ds1511_rtc_probe), (linux/{prevFiles/prev_0767bb_ac9921_drivers#net#can#sun4i_can.c,revFiles/0767bb_ac9921_drivers#net#can#sun4i_can.c}: sun4ican_probe), (linux/{prevFiles/prev_f88771_425aa3_drivers#spi#spi-mt7621.c,revFiles/f88771_425aa3_drivers#spi#spi-mt7621.c}: mt7621_spi_probe), (linux/{prevFiles/prev_fa67976_657131_drivers#pinctrl#mvebu#pinctrl-mvebu.c,revFiles/fa67976_657131_drivers#pinctrl#mvebu#pinctrl-mvebu.c}: mvebu_pinctrl_simple_mmio_probe), (linux/{prevFiles/prev_bd74b0_64b7bf_drivers#char#hw_random#st-rng.c,revFiles/bd74b0_64b7bf_drivers#char#hw_random#st-rng.c}: st_rng_probe), (linux/{prevFiles/prev_790b36_54dd39_sound#soc#sunxi#sun8i-codec.c,revFiles/790b36_54dd39_sound#soc#sunxi#sun8i-codec.c}: sun8i_codec_probe), (linux/{prevFiles/prev_2a21d8_8ee7b48_drivers#char#ipmi#bt-bmc.c,revFiles/2a21d8_8ee7b48_drivers#char#ipmi#bt-bmc.c}: bt_bmc_probe), (linux/{prevFiles/prev_0866ba_74bf81_drivers#crypto#axis#artpec6_crypto.c,revFiles/0866ba_74bf81_drivers#crypto#axis#artpec6_crypto.c}: artpec6_crypto_probe), (linux/{prevFiles/prev_21cc4e_2c4956b_sound#soc#tegra#tegra20_das.c,revFiles/21cc4e_2c4956b_sound#soc#tegra#tegra20_das.c}: tegra20_das_probe), (linux/{prevFiles/prev_a8dc106_72d0932_sound#soc#codecs#jz4740.c,revFiles/a8dc106_72d0932_sound#soc#codecs#jz4740.c}: jz4740_codec_probe), (linux/{prevFiles/prev_6fc77f_8193e6_drivers#staging#ralink-gdma#ralink-gdma.c,revFiles/6fc77f_8193e6_drivers#staging#ralink-gdma#ralink-gdma.c}: gdma_dma_probe), (linux/{prevFiles/prev_d4fbce9_f342e2_drivers#staging#vc04_services#interface#vchiq_arm#vchiq_2835_arm.c,revFiles/d4fbce9_f342e2_drivers#staging#vc04_services#interface#vchiq_arm#vchiq_2835_arm.c}: vchiq_platform_init), (linux/{prevFiles/prev_7fdd7f7_42c184a_drivers#perf#xgene_pmu.c,revFiles/7fdd7f7_42c184a_drivers#perf#xgene_pmu.c}: acpi_pmu_v3_probe_active_mcb_mcu_l3c), (linux/{prevFiles/prev_4e5bc3_2d1ffc7_sound#soc#uniphier#evea.c,revFiles/4e5bc3_2d1ffc7_sound#soc#uniphier#evea.c}: evea_probe), (linux/{prevFiles/prev_c9dbe6_d400b1_sound#soc#sirf#sirf-usp.c,revFiles/c9dbe6_d400b1_sound#soc#sirf#sirf-usp.c}: sirf_usp_pcm_probe), (linux/{prevFiles/prev_cf80aa_9b20893_sound#soc#xilinx#xlnx_i2s.c,revFiles/cf80aa_9b20893_sound#soc#xilinx#xlnx_i2s.c}: xlnx_i2s_probe), (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#st_lpc_wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#st_lpc_wdt.c}: st_wdog_probe), (linux/{prevFiles/prev_0ff8ee_91e9f2_drivers#net#can#xilinx_can.c,revFiles/0ff8ee_91e9f2_drivers#net#can#xilinx_can.c}: xcan_probe), (linux/{prevFiles/prev_e12fd61_cf80aa_sound#soc#sunxi#sun8i-codec-analog.c,revFiles/e12fd61_cf80aa_sound#soc#sunxi#sun8i-codec-analog.c}: sun8i_codec_analog_probe), (linux/{prevFiles/prev_d400b1_959bb6b_sound#soc#bcm#bcm2835-i2s.c,revFiles/d400b1_959bb6b_sound#soc#bcm#bcm2835-i2s.c}: bcm2835_i2s_probe), (linux/{prevFiles/prev_65725aa_6b43a26_drivers#net#can#grcan.c,revFiles/65725aa_6b43a26_drivers#net#can#grcan.c}: grcan_probe), (linux/{prevFiles/prev_ac9921_8dab8c6_drivers#net#can#rcar#rcar_canfd.c,revFiles/ac9921_8dab8c6_drivers#net#can#rcar#rcar_canfd.c}: rcar_canfd_probe), (linux/{prevFiles/prev_1a1ba7_ffb36a_drivers#net#ethernet#cirrus#cs89x0.c,revFiles/1a1ba7_ffb36a_drivers#net#ethernet#cirrus#cs89x0.c}: cs89x0_platform_probe), (linux/{prevFiles/prev_7d4c20_e0ea3cc_drivers#spi#spi-rb4xx.c,revFiles/7d4c20_e0ea3cc_drivers#spi#spi-rb4xx.c}: rb4xx_spi_probe), (linux/{prevFiles/prev_2f302d4_f295495_sound#soc#codecs#sirf-audio-codec.c,revFiles/2f302d4_f295495_sound#soc#codecs#sirf-audio-codec.c}: sirf_audio_codec_driver_probe), (linux/{prevFiles/prev_33b433_d706a95_drivers#usb#phy#phy-mxs-usb.c,revFiles/33b433_d706a95_drivers#usb#phy#phy-mxs-usb.c}: mxs_phy_probe), (linux/{prevFiles/prev_f052172_7d2280_sound#soc#codecs#rk3328_codec.c,revFiles/f052172_7d2280_sound#soc#codecs#rk3328_codec.c}: rk3328_platform_probe), (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#sirfsoc_wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#sirfsoc_wdt.c}: sirfsoc_wdt_probe), (linux/{prevFiles/prev_09ef18_89576be_drivers#rtc#rtc-sa1100.c,revFiles/09ef18_89576be_drivers#rtc#rtc-sa1100.c}: sa1100_rtc_probe), (linux/{prevFiles/prev_039f8b_f595f03_drivers#staging#emxx_udc#emxx_udc.c,revFiles/039f8b_f595f03_drivers#staging#emxx_udc#emxx_udc.c}: nbu2ss_drv_probe), (linux/{prevFiles/prev_050688_4585bb9_drivers#spi#spi-cavium-octeon.c,revFiles/050688_4585bb9_drivers#spi#spi-cavium-octeon.c}: octeon_spi_probe), (linux/{prevFiles/prev_d003e3_61e799_sound#soc#fsl#imx-audmux.c,revFiles/d003e3_61e799_sound#soc#fsl#imx-audmux.c}: imx_audmux_probe), (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#pnx4008_wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#pnx4008_wdt.c}: pnx4008_wdt_probe), (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#rt2880_wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#rt2880_wdt.c}: rt288x_wdt_probe), (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#tegra_wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#tegra_wdt.c}: tegra_wdt_probe), (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#sama5d4_wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#sama5d4_wdt.c}: sama5d4_wdt_probe), (linux/{prevFiles/prev_09ef18_89576be_drivers#rtc#rtc-ds1553.c,revFiles/09ef18_89576be_drivers#rtc#rtc-ds1553.c}: ds1553_rtc_probe), (linux/{prevFiles/prev_8a54d4_c8ace6_drivers#net#ethernet#via#via-rhine.c,revFiles/8a54d4_c8ace6_drivers#net#ethernet#via#via-rhine.c}: rhine_init_one_platform), (linux/{prevFiles/prev_54dd39_e12fd61_sound#soc#sunxi#sun50i-codec-analog.c,revFiles/54dd39_e12fd61_sound#soc#sunxi#sun50i-codec-analog.c}: sun50i_codec_analog_probe), (linux/{prevFiles/prev_0f0a6a2_24b822_drivers#watchdog#txx9wdt.c,revFiles/0f0a6a2_24b822_drivers#watchdog#txx9wdt.c}: txx9wdt_probe), (linux/{prevFiles/prev_f62d6426_1c6322_sound#soc#codecs#msm8916-wcd-digital.c,revFiles/f62d6426_1c6322_sound#soc#codecs#msm8916-wcd-digital.c}: msm8916_wcd_digital_probe), (linux/{prevFiles/prev_2d1ffc7_a8dc106_sound#soc#codecs#inno_rk3036.c,revFiles/2d1ffc7_a8dc106_sound#soc#codecs#inno_rk3036.c}: rk3036_codec_platform_probe), (linux/{prevFiles/prev_09ef18_89576be_drivers#rtc#rtc-stk17ta8.c,revFiles/09ef18_89576be_drivers#rtc#rtc-stk17ta8.c}: stk17ta8_rtc_probe), (linux/{prevFiles/prev_ac9921_8dab8c6_drivers#net#can#rcar#rcar_can.c,revFiles/ac9921_8dab8c6_drivers#net#can#rcar#rcar_can.c}: rcar_can_probe), (linux/{prevFiles/prev_534909_b45ca3_drivers#usb#phy#phy-mxs-usb.c,revFiles/534909_b45ca3_drivers#usb#phy#phy-mxs-usb.c}: mxs_phy_probe), (linux/{prevFiles/prev_7d2280_21cc4e_sound#soc#tegra#tegra30_i2s.c,revFiles/7d2280_21cc4e_sound#soc#tegra#tegra30_i2s.c}: tegra30_i2s_platform_probe), (linux/{prevFiles/prev_390e4f9_f1ca326_drivers#staging#mt7621-dma#mtk-hsdma.c,revFiles/390e4f9_f1ca326_drivers#staging#mt7621-dma#mtk-hsdma.c}: mtk_hsdma_probe), (linux/{prevFiles/prev_ad124aa_f33bf6b_drivers#net#ethernet#stmicro#stmmac#dwmac-anarion.c,revFiles/ad124aa_f33bf6b_drivers#net#ethernet#stmicro#stmmac#dwmac-anarion.c}: anarion_config_dt)
// False positives: (linux/revFiles/7fdd7f7_42c184a_drivers#perf#xgene_pmu.c: xgene_pmu_probe)
// Recall: 0.97, Precision: 0.98, Matching recall: 0.97

// ---------------------------------------------
// Final metrics (for the combined 3 rules):
// -- Edit Location --
// Recall: 1.00, Precision: 0.98
// -- Node Change --
// Recall: 0.99, Precision: 0.98
// -- General --
// Functions fully changed: 51/53(96%)

/*
Functions where the patch applied partially:
 - linux/prevFiles/prev_7fdd7f7_42c184a_drivers#perf#xgene_pmu.c: acpi_pmu_probe_active_mcb_mcu_l3c
*/
/*
Functions where the patch produced incorrect changes:
 - linux/prevFiles/prev_7fdd7f7_42c184a_drivers#perf#xgene_pmu.c: xgene_pmu_probe
*/

// ---------------------------------------------
